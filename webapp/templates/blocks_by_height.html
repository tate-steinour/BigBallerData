<!DOCTYPE html>
<html>
    <head>
        <title>Blocks by Height</title>
        <link rel="stylesheet" href="{{url_for('static', filename='style.css') }}">
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    </head>
    <body>
        <h3 id="title">Blocks by height</h3>

        
        <div id="container">
            
            <!-- Query Form -->
            <form action = "/Blocks_by_height">
                <p>Minimum height: <input name="minHeight" value=""> </p>
                <p>Maximum height: <input name="maxHeight" value=""> </p>
                <p>Limit result: <input name="limit" value="10"> </p>
                <p><input type="submit"></p>
            </form>
            <form action = "/">
                <p><input type ="submit" value="Back"></p>
            </form>
        
            <!-- Table data -->

            <h3>Table</h3>
            <table>
                <tr>
                    <th class="tg-0lax">Team</th>
                    <th class="tg-0pky">Season</th>
                    <th class="tg-0pky">Player</th>
                    <th class="tg-0pky">Blocks</th>
                    <th class="tg-0pky">Height</th>
                </tr>
                {% for row in queuryData %}
                <tr>
                    <td>{{ row[0] }}</td>
                    <td>{{ row[1] }}</td>
                    <td>{{ row[2] }}</td>
                    <td>{{ row[3] }}</td>
                    <td>{{ row[4] }}</td>
                </tr>
                {% endfor %}
            </table>

            <!-- Chart data -->

            <h3>Chart</h3>
            <!--Load the AJAX API-->
            <script type="text/javascript">
                // Load the Visualization API and the corechart package.
                google.charts.load('current', { 'packages': ['corechart'] });

                // Set a callback to run when the Google Visualization API is loaded.
                google.charts.setOnLoadCallback(drawChart);

                // Callback that creates and populates a data table,
                // instantiates the pie chart, passes in the data and
                // draws it.
                function drawChart() {

                    // Create the data table.
                    var data = new google.visualization.arrayToDataTable([
                        ["Player" + " Height", "Blocks"],
                        {% for row in queuryData %}
                            ["{{ row[2] }} {{ row[4] }}", {{ row[3] }}],
                        {% endfor %}
                    ]);

                // Set chart options
                var options = {
                    'title': 'Height of Top ShotBlockers',
                    'width': 800,
                    'height': 600,
                    'colors': ['#6a2c70']
                };

                // Instantiate and draw our chart, passing in some options.
                var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
                chart.draw(data, options);
                }
            </script>
            <div id="chart_div"></div>
        </div>
    </body>
</html>